
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ManyToMany Relationships in JSF - Jake Trent</title>

  <meta name="author" content="https://plus.google.com/115032056022257436849">
  
  <meta name="description" content="What a journey of discovery! I haven't done much many-to-many relationship management in JSF. Django makes it quite easy. But at work recently, I did &hellip;">
  <meta name="keywords" content="java, javascript, jquery, jsf">
  <meta name="copyright" content="http://creativecommons.org/licenses/by/3.0/us/" />

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="ManyToMany Relationships in JSF" />
  <meta property="og:type" content="article" />
  
  <meta property="og:url" content="http://jaketrent.com/post/manytomany-relationships-jsf/" />
  <meta property="og:description" content="What a journey of discovery! I haven't done much many-to-many relationship management in JSF. Django makes it quite easy. But at work recently, I did &hellip;" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="ManyToMany Relationships in JSF" />
  <meta name="twitter:description" content="What a journey of discovery! I haven't done much many-to-many relationship management in JSF. Django makes it quite easy. But at work recently, I did &hellip;" />
  

  
  <link rel="canonical" href="http://jaketrent.com/post/manytomany-relationships-jsf/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jake Trent" type="application/atom+xml">
  <meta name="google-site-verification" content="uvx7BhaUTNz29nQgydsFPRsErfqYBhPEV_svnHvW7H0" />

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-16224416-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="container">
    <div class="sidebar">
      <section class="logo">
  <header class="logo-header">
    <h2 class="logo-title">
      <a class="logo-link" href="/">
        <span class="logo-img"></span>
      </a>
    </h2>
  </header>
</section>

      <nav class="main-nav" role="navigation"><ul class="main-nav-list">
  <li class="main-nav-item">
    <a class="main-nav-link" href="/">Blog</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="/work">Work</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="https://books.jaketrent.com">Books</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="https://github.com/jaketrent">Github</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="http://www.linkedin.com/in/jaketrent">LinkedIn</a>
  </li>
</ul>
</nav>
    </div>
    <div class="content">
      <div>
<article class="entry entry-detail" role="article">
  
  <header>
    
      <h1 class="entry-title">ManyToMany Relationships in JSF</h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-22T13:59:00-06:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2008</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>What a journey of discovery!  I haven&#8217;t done much many-to-many relationship management in JSF.  Django makes it quite easy.  But at work recently, I did it in JSF.  It was quite the experience, hereafter chronicled.</p>

<!--more-->


<p>What a journey of discovery!  I haven&#8217;t done much many-to-many relationship management in JSF.  Django makes it quite easy.  But at work recently, I did it in JSF.  It was quite the experience, hereafter chronicled.</p>

<p>To the unseen challenges of this task, I was caught unawares.  Who would have thought that a select-many gui component would be so bothersome?  But, now that the first in JSF has been done, the rest will be more straightforward&#8230;</p>

<p>My task was to maintain a person<->citizenship many-to-many relationship.  After a couple funny exchanges with our designers over multiple dropdowns (selectOneMenu&#8217;s), hehe, the design was switched to one dropdown, one select multiple list (hidden), and a list of (nicer-looking) text to represent the selection.</p>

<p><a href="http://picasaweb.google.com/lh/photo/N707BgyvgcUm1uxzGq1G1w"><img src="http://lh6.ggpht.com/trent.jake/SNf6P_v3CRI/AAAAAAAAENk/TPIYGn4KCpA/s800/selectmany.png" /></a></p>

<p>Without going into too much detail on the pitfalls that I found myself stumbling into, I&#8217;ll give the final solution (for me) here:</p>

<h3>The JSF:</h3>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="nt">&lt;dl&gt;</span>
</span><span class='line'>  <span class="nt">&lt;dt&gt;</span>Citizenship<span class="nt">&lt;/dt&gt;</span>
</span><span class='line'>  <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h:selectOneMenu</span> <span class="na">styleClass=</span><span class="s">&quot;citz-choice&quot;</span> <span class="na">converter=</span><span class="s">&quot;#{entityConverter}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;f:selectItems</span> <span class="na">value=</span><span class="s">&quot;#{r:convertSelectItemList(personDetailsBean.countries)}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/h:selectOneMenu&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;add-link-icon add-citz-btn&quot;</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">style=</span><span class="s">&quot;text-decoration:none;&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;#160;</span><span class="nt">&lt;/a&gt;</span>
</span><span class='line'>      <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;h:selectManyListbox</span> <span class="na">styleClass=</span><span class="s">&quot;citz-list&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.person.personCitizenshipList}&quot;</span>
</span><span class='line'>          <span class="na">converter=</span><span class="s">&quot;#{entityConverter}&quot;</span> <span class="na">style=</span><span class="s">&quot;display:none;&quot;</span> <span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;f:selectItems</span> <span class="na">value=</span><span class="s">&quot;#{r:convertSelectItemList(personDetailsBean.countries)}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/h:selectManyListbox&gt;</span>
</span><span class='line'>      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;citzs&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;ui:repeat</span> <span class="na">var=</span><span class="s">&quot;citz&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.person.personCitizenshipList}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>              <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">&quot;cit_#{citz.entityConverterString}&quot;</span> <span class="na">class=</span><span class="s">&quot;delete-link-icon&quot;</span> <span class="na">href=</span><span class="s">&quot;javascript:removeCitz(&#39;#{citz.entityConverterString}&#39;);&quot;</span><span class="nt">&gt;</span>#{citz.longName}<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/ui:repeat&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'><span class="nt">&lt;/dl&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Things to note:</strong></p>

<ul>
<li>The comprehensive country list is in both the selectOneMenu and the selectManyListbox.  I made a big mistake in trying to copy options from the selectOneMenu on an html menu, with just having select items in the selectManyListbox specific to the person like so:
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="nt">&lt;f:selectItems</span> <span class="na">value=</span><span class="s">&quot;#{r:convertSelectItemList(personDetailsBean.person.personCitizenshipList)}&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>
, but that did not work!</li>
<li>r:convertSelectItemList is a custom JSF method for converting pojo&#8217;s into SelectItem object lists.  The important thing is that this f:selectItems component is fed with a collection of SelectItem&#8217;s.</li>
<li>I&#8217;m not showing the selectManyListbox.  It could be that you want to and could thus cut out the whole &#8220;nice&#8221; display in &lt;div class=&#8221;citzs&#8221;&gt;.</li>
<li>#{entityConverter} is specific to our development shop.  The most important thing is that the mechanism that renders the select items must render the values the same in the selectOneMenu and the selectManyListBox.</li>
</ul>




<h3>The Javascript:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.add-citz-btn&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.citz-choice&quot;</span><span class="p">).</span><span class="nx">copyOptions</span><span class="p">(</span><span class="s2">&quot;.citz-list&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.citzs&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">genCountrySelection</span><span class="p">());</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">genCountrySelection</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.citz-choice&quot;</span><span class="p">).</span><span class="nx">selectedValues</span><span class="p">();</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.citz-choice&quot;</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s2">&quot;[@selected]&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
</span><span class='line'>    <span class="k">return</span> <span class="s2">&quot;&amp;lt;a id=\&quot;cit_&quot;</span> <span class="o">+</span> <span class="nx">val</span> <span class="o">+</span> <span class="s2">&quot;\&quot; class=\&quot;delete-link-icon\&quot; href=\&quot;javascript:removeCitz(&#39;&quot;</span> <span class="o">+</span> <span class="nx">val</span> <span class="o">+</span> <span class="s2">&quot;&#39;);\&quot;&amp;gt;&quot;</span> <span class="o">+</span> <span class="nx">label</span> <span class="o">+</span> <span class="s2">&quot;&amp;lt;/a&amp;gt;&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">removeCitz</span><span class="p">(</span><span class="nx">poldiv</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;[@id=cit_&quot;</span> <span class="o">+</span> <span class="nx">poldiv</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.citz-list&quot;</span><span class="p">).</span><span class="nx">deselectOptions</span><span class="p">(</span><span class="nx">poldiv</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Things to note:</strong></p>

<ul>
<li>I used <a href="http://jquery.com/">jquery</a> and the <a href="http://www.texotela.co.uk/code/jquery/select/">jquery.selectboxes.js</a> plugin.  I added the deselectOptions() function to the .js file (shown below).</li>
<li>I used a <a href="http://aprilandjake.com/tech/article/12">jsf-safe id selector</a>.</li>
</ul>




<h3>deselectOptions() Function Addition:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Deselect given value(s)</span>
</span><span class='line'><span class="cm"> * @author jtsnake, based on selectValues() above</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">deselectOptions</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">vT</span> <span class="o">=</span> <span class="k">typeof</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// has to be a string or regular expression (object in IE, function in Firefox)</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nx">vT</span> <span class="o">!=</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">vT</span> <span class="o">!=</span> <span class="s2">&quot;function&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">vT</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span>
</span><span class='line'>      <span class="kd">function</span><span class="p">()</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;select&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
</span><span class='line'>          <span class="c1">// get options</span>
</span><span class='line'>          <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span>
</span><span class='line'>          <span class="c1">// get number of options</span>
</span><span class='line'>          <span class="kd">var</span> <span class="nx">oL</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
</span><span class='line'>          <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">oL</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="k">if</span><span class="p">(</span><span class="nx">v</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nb">RegExp</span><span class="p">)</span>
</span><span class='line'>              <span class="p">{</span>
</span><span class='line'>                  <span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">v</span><span class="p">))</span>
</span><span class='line'>                  <span class="p">{</span>
</span><span class='line'>                      <span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">selected</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>              <span class="k">else</span>
</span><span class='line'>              <span class="p">{</span>
</span><span class='line'>                  <span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span> <span class="o">==</span> <span class="nx">v</span><span class="p">)</span>
</span><span class='line'>                  <span class="p">{</span>
</span><span class='line'>                      <span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">selected</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>




<h3>Java Models:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// Person.java</span>
</span><span class='line'><span class="cm">/* ... */</span>
</span><span class='line'><span class="nd">@ManyToMany</span>
</span><span class='line'><span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;person_citizenship&quot;</span><span class="o">,</span>
</span><span class='line'>           <span class="n">joinColumns</span><span class="o">=</span><span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;person_id&quot;</span><span class="o">),</span>
</span><span class='line'>           <span class="n">inverseJoinColumns</span><span class="o">=</span><span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;country_id&quot;</span><span class="o">))</span>
</span><span class='line'><span class="kd">private</span> <span class="n">List</span> <span class="o">&lt;</span> <span class="n">PoliticalDivision</span> <span class="o">&gt;</span> <span class="n">personCitizenshipList</span><span class="o">;</span>
</span><span class='line'><span class="cm">/* ... */</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// PoliticalDivision.java</span>
</span><span class='line'><span class="cm">/* ... */</span>
</span><span class='line'><span class="kd">public</span> <span class="n">String</span> <span class="nf">getEntityConverterString</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">&quot;@&quot;</span><span class="o">)[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="cm">/* ... */</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Things to note:</strong></p>

<ul>
<li>&#8220;The stack&#8221; is a set of technologies specific to our development shop.  You probably won&#8217;t have to handle this stuff in your implementation.  The thing to remember is that the values in the selectOneMenu must match those in the selectManyListBox.  This is a facilitator of that in our environment.</li>
</ul>


<p>As with any solution to a problem, there are likely many other options.  I would be very interested to see what other people have come up with!  Please post links if you have them.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jake Trent</span></span>

      








  


<time datetime="2008-09-22T13:59:00-06:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/code/'>Code</a>, <a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/jquery/'>jquery</a>, <a class='category' href='/blog/categories/js/'>js</a>, <a class='category' href='/blog/categories/jsf/'>jsf</a>
  
</span>


    </p>
    
      <div class="sharing"></div>

    
    <p class="meta">
      
        <a class="prev-article-link" href="/post/will-captcha-block-spam/" title="Previous Post: Will a Captcha Block Spam?">&laquo; Will a Captcha Block Spam?</a>
      
      
        <a class="next-article-link" href="/post/document-viewer-shell/" title="Next Post: Document Viewer in the Shell">Document Viewer in the Shell &raquo;</a>
      
    </p>
  </footer>
</article>

  <section class="comments">
    <h2 class="comments-title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

    </div>
  </div>
  <div class="footer-container">
    <footer class="main-footer" role="contentinfo"><div class="main-footer-logo"></div>
<ul class="main-footer-links-list">
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Content licensed</span> 2014 <a href="http://creativecommons.org/licenses/by/3.0/us/">CC 3.0 Attribution</a>
  </li>
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Authored by </span><a href="https://plus.google.com/115032056022257436849?rel=author">Jake Trent</a>
  </li>
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Subscribe to the </span><a href="/atom.xml">Feed</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <a href="/sitemap.xml">Sitemap</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <a href="https://github.com/jaketrent/jaketrent-blog/issues">Report a Bug</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <span class="main-footer-verbage">Chat on </span><a href="https://keybase.io/jaketrent">Keybase</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <span class="main-footer-verbage">Powered by </span><a href="http://octopress.org">Octopress</a>
  </li>
</ul>
</footer>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'jaketrent';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://jaketrent.com/post/manytomany-relationships-jsf/';
        var disqus_url = 'http://jaketrent.com/post/manytomany-relationships-jsf/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
