
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Count number of characters w/ SQL - Jake Trent</title>

  <meta name="author" content="https://plus.google.com/115032056022257436849">
  
  <meta name="description" content="There's no pre-defined method to count the number of occurrences of a certain character in a database table column using SQL. There's a quick and &hellip;">
  <meta name="keywords" content="oracle, sql">
  <meta name="copyright" content="http://creativecommons.org/licenses/by/3.0/us/" />

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Count number of characters w/ SQL" />
  <meta property="og:type" content="article" />
  
  <meta property="og:url" content="http://jaketrent.com/post/count-number-characters-w-sql/" />
  <meta property="og:description" content="There's no pre-defined method to count the number of occurrences of a certain character in a database table column using SQL. There's a quick and &hellip;" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Count number of characters w/ SQL" />
  <meta name="twitter:description" content="There's no pre-defined method to count the number of occurrences of a certain character in a database table column using SQL. There's a quick and &hellip;" />
  

  
  <link rel="canonical" href="http://jaketrent.com/post/count-number-characters-w-sql/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jake Trent" type="application/atom+xml">
  <meta name="google-site-verification" content="uvx7BhaUTNz29nQgydsFPRsErfqYBhPEV_svnHvW7H0" />

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-16224416-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="container">
    <div class="sidebar">
      <section class="logo">
  <header class="logo-header">
    <h2 class="logo-title">
      <a class="logo-link" href="/">
        <span class="logo-img"></span>
      </a>
    </h2>
  </header>
</section>

      <nav class="main-nav" role="navigation"><ul class="main-nav-list">
  <li class="main-nav-item">
    <a class="main-nav-link" href="/">Blog</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="/work">Work</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="/books">Books</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="https://github.com/jaketrent">Github</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="http://www.linkedin.com/in/jaketrent">LinkedIn</a>
  </li>
</ul>
</nav>
    </div>
    <div class="content">
      <div>
<article class="entry entry-detail" role="article">
  
  <header>
    
      <h1 class="entry-title">Count Number of Characters W/ SQL</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-30T07:12:00-06:00" pubdate data-updated="true">Apr 30<span>th</span>, 2009</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>There&#8217;s no pre-defined method to count the number of occurrences of a certain character in a database table column using SQL.  There&#8217;s a quick and dirty way to get it done however.  In my case, I wanted to figure out how many lines existed in a column that held address information, separated by line breaks.  Here&#8217;s a spot of code that helped from the friendly neighborhood DBA, Reed.</p>

<!--more-->




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">select</span> <span class="n">addresstxt</span>
</span><span class='line'><span class="p">,</span>      <span class="k">length</span><span class="p">(</span><span class="n">addresstxt</span><span class="p">)</span>
</span><span class='line'><span class="p">,</span>      <span class="k">length</span> <span class="p">(</span><span class="k">replace</span><span class="p">(</span><span class="n">addresstxt</span><span class="p">,</span><span class="n">chr</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
</span><span class='line'><span class="p">,</span>      <span class="k">length</span><span class="p">(</span><span class="n">addresstxt</span><span class="p">)</span> <span class="o">-</span> <span class="k">length</span> <span class="p">(</span><span class="k">replace</span><span class="p">(</span><span class="n">addresstxt</span><span class="p">,</span><span class="n">chr</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
</span><span class='line'><span class="k">from</span>   <span class="n">contact_info</span>
</span><span class='line'><span class="k">where</span>  <span class="k">length</span><span class="p">(</span><span class="n">addresstxt</span><span class="p">)</span> <span class="o">-</span> <span class="k">length</span> <span class="p">(</span><span class="k">replace</span><span class="p">(</span><span class="n">addresstxt</span><span class="p">,</span><span class="n">chr</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">4</span>
</span></code></pre></td></tr></table></div></figure>


<p>I was actually looking for addresses that were over 4 lines long, hence the where clause.  The chr() function gets the character represented by the given ascii code.  13 is new line.  10 is line feed.  You may want to use one or the other depending on your data.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jake Trent</span></span>

      








  


<time datetime="2009-04-30T07:12:00-06:00" pubdate data-updated="true">Apr 30<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/code/'>Code</a>, <a class='category' href='/blog/categories/oracle/'>oracle</a>, <a class='category' href='/blog/categories/sql/'>sql</a>
  
</span>


    </p>
    
      <div class="sharing"></div>

    
    <p class="meta">
      
        <a class="prev-article-link" href="/post/inner-joins-jpql-delete-statements/" title="Previous Post: Inner Joins in JPQL Delete Statements ">&laquo; Inner Joins in JPQL Delete Statements </a>
      
      
        <a class="next-article-link" href="/post/concurrentmodificationexception-within-one-thread/" title="Next Post: ConcurrentModificationException Within One Thread">ConcurrentModificationException Within One Thread &raquo;</a>
      
    </p>
  </footer>
</article>

  <section class="comments">
    <h2 class="comments-title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

    </div>
  </div>
  <div class="footer-container">
    <footer class="main-footer" role="contentinfo"><div class="main-footer-logo"></div>
<ul class="main-footer-links-list">
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Content licensed</span> 2014 <a href="http://creativecommons.org/licenses/by/3.0/us/">CC 3.0 Attribution</a>
  </li>
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Authored by </span><a href="https://plus.google.com/115032056022257436849?rel=author">Jake Trent</a>
  </li>
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Subscribe to the </span><a href="/atom.xml">Feed</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <a href="/sitemap.xml">Sitemap</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <a href="https://github.com/jaketrent/jaketrent-blog/issues">Report a Bug</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <span class="main-footer-verbage">Chat on </span><a href="https://keybase.io/jaketrent">Keybase</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <span class="main-footer-verbage">Powered by </span><a href="http://octopress.org">Octopress</a>
  </li>
</ul>
</footer>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'jaketrent';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://jaketrent.com/post/count-number-characters-w-sql/';
        var disqus_url = 'http://jaketrent.com/post/count-number-characters-w-sql/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
