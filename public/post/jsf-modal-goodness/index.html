
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JSF Modal Goodness - Jake Trent</title>

  <meta name="author" content="https://plus.google.com/115032056022257436849">
  
  <meta name="description" content="Meet the new web. The simpler the better. The cleaner the better. The more pleasing the colors the better. The fuzzier feelings the better. The &hellip;">
  <meta name="keywords" content="hibernate, jquery, jsf, seam, spring">
  <meta name="copyright" content="http://creativecommons.org/licenses/by/3.0/us/" />

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="JSF Modal Goodness" />
  <meta property="og:type" content="article" />
  
  <meta property="og:url" content="http://jaketrent.com/post/jsf-modal-goodness/" />
  <meta property="og:description" content="Meet the new web. The simpler the better. The cleaner the better. The more pleasing the colors the better. The fuzzier feelings the better. The &hellip;" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="JSF Modal Goodness" />
  <meta name="twitter:description" content="Meet the new web. The simpler the better. The cleaner the better. The more pleasing the colors the better. The fuzzier feelings the better. The &hellip;" />
  

  
  <link rel="canonical" href="http://jaketrent.com/post/jsf-modal-goodness/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jake Trent" type="application/atom+xml">
  <meta name="google-site-verification" content="uvx7BhaUTNz29nQgydsFPRsErfqYBhPEV_svnHvW7H0" />

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-16224416-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="container">
    <div class="sidebar">
      <section class="logo">
  <header class="logo-header">
    <h2 class="logo-title">
      <a class="logo-link" href="/">
        <span class="logo-img"></span>
      </a>
    </h2>
  </header>
</section>

      <nav class="main-nav" role="navigation"><ul class="main-nav-list">
  <li class="main-nav-item">
    <a class="main-nav-link" href="/">Blog</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="/work">Work</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="https://books.jaketrent.com">Books</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="https://github.com/jaketrent">Github</a>
  </li>
  <li class="main-nav-item">
    <a class="main-nav-link" href="http://www.linkedin.com/in/jaketrent">LinkedIn</a>
  </li>
</ul>
</nav>
    </div>
    <div class="content">
      <div>
<article class="entry entry-detail" role="article">
  
  <header>
    
      <h1 class="entry-title">JSF Modal Goodness</h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-30T14:12:00-07:00" pubdate data-updated="true">Nov 30<span>th</span>, 2008</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Meet the new web.  The simpler the better. The cleaner the better.  The more pleasing the colors the better.  The fuzzier feelings the better.  The latest fuzzies have been brought on by a slew of modals.  Previously, we haven&#8217;t used many modals in our layouts and designs, so here&#8217;s the first working pattern on how to get this kind of stuff working.</p>

<p>This solution allows content to appear in a modal, validation errors to post back to the modal, edits made in a modal to persist back to the database, and success messages to appear on parent page.</p>

<!--more-->


<p>Meet the new web.  The simpler the better. The cleaner the better.  The more pleasing the colors the better.  The fuzzier feelings the better.  The latest fuzzies have been brought on by a slew of modals.  Previously, we haven&#8217;t used many modals in our layouts and designs, so here&#8217;s the first working pattern on how to get this kind of stuff working.</p>

<p>This solution allows:</p>

<ul>
<li>Content to appear in a modal</li>
<li>Validation errors post back to the modal</li>
<li>Edits made in a modal persist back to the database</li>
<li>Success messages appear on parent page</li>
</ul>


<p>Example uses these technologies:</p>

<ul>
<li>JSF/Facelets</li> 
<li>Spring 2.5</li> 
<li>JPA/Hibernate</li> 
<li>Hibernate validators</li> 
<li>Seam</li> 
<li>JQuery</li> 
</ul>


<p>This includes these pieces:</p>

<ul>
<li>Parent JSF</li> 
<li>JQuery for Modal - using <a href="">jQuery</a> and <a href="">jqModal</a></li> 
<li>Modal JSF</li> 
<li>Seam pages.xml for navigation</li> 
<li>View bean</li> 
<li>Model object</li> 
</ul>


<p>Overall, the flow occurs as follows:</p>

<ul>
<li>Nav to parent page</li> 
<li>Trigger modal with link</li> 
<li>Modal appears </li> 
<li>Content is loaded in modal</li> 
<li>Submissions occur via AJAX to the view bean</li> 
<li>View bean logic and Seam determine outcome</li> 
<li>If errors, AJAX re-renders in modal</li> 
<li>If save successful, parent page is re-rendered with message</li> 
</ul>




<br />


<h2>The Parent Page (person-info-personal.xhtml)</h2>




<h3>Javascript for Modal:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;#{request.contextPath}/scripts/jquery.pack.js&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;#{request.contextPath}/scripts/jqModal.pack.js&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#modal-edit-personal&#39;</span><span class="p">).</span><span class="nx">jqm</span><span class="p">({</span>
</span><span class='line'>            <span class="nx">ajax</span><span class="o">:</span> <span class="s1">&#39;#{request.contextPath}/person-info-personal-edit.jsf?personId=#{personDetailsBean.person.id}&amp;amp;conversationId=#{conversation.id}&amp;amp;time=#{personDetailsBean.currentMillis}&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="nx">trigger</span><span class="o">:</span> <span class="s1">&#39;#btn-edit-personal&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="nx">modal</span><span class="o">:</span> <span class="kc">true</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>    <span class="p">})</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong></p>

<ul>
<li>The Seam conversation object is just available.  No convenience method required to retrieve it.</li>
<li>Additional url parameter required to get around an IE caching issue.  We just need a unique value so that the AJAX request isn&#8217;t assumed cached by IE.  In this case, I used the current time in milliseconds (Method on view bean).</li>
</ul>




<h3>Trigger for Modal:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">&quot;btn-edit-personal&quot;</span> <span class="na">class=</span><span class="s">&quot;edit-link-icon edit-link float-right&quot;</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>Edit<span class="nt">&lt;/a&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<h3>Modal Container:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;modal-edit-personal&quot;</span> <span class="na">class=</span><span class="s">&quot;jqmWindow smallWindow&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong>
- Just include this right before the end of the html body.</p>

<h3>Style for Modal</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.smallWindow</span> <span class="p">{</span><span class="n">components</span><span class="o">.</span><span class="n">css</span> <span class="p">(</span><span class="n">line</span> <span class="m">105</span><span class="p">)</span>
</span><span class='line'>  <span class="k">margin-left</span><span class="o">:-</span><span class="m">250px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">top</span><span class="o">:</span><span class="m">15</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">width</span><span class="o">:</span><span class="m">500px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nc">.jqmWindow</span> <span class="p">{</span><span class="n">components</span><span class="o">.</span><span class="n">css</span> <span class="p">(</span><span class="n">line</span> <span class="m">84</span><span class="p">)</span>
</span><span class='line'>  <span class="k">background-color</span><span class="o">:</span><span class="m">#FFFFFF</span><span class="p">;</span>
</span><span class='line'>  <span class="k">border</span><span class="o">:</span><span class="m">5px</span> <span class="k">solid</span> <span class="m">#DDDDD3</span><span class="p">;</span>
</span><span class='line'>  <span class="k">color</span><span class="o">:</span><span class="m">#333333</span><span class="p">;</span>
</span><span class='line'>  <span class="k">display</span><span class="o">:</span><span class="k">none</span><span class="p">;</span>
</span><span class='line'>  <span class="k">left</span><span class="o">:</span><span class="m">50</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">margin-left</span><span class="o">:-</span><span class="m">375px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding</span><span class="o">:</span><span class="m">5px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">position</span><span class="o">:</span><span class="k">fixed</span><span class="p">;</span>
</span><span class='line'>  <span class="k">top</span><span class="o">:</span><span class="m">8</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">width</span><span class="o">:</span><span class="m">750px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">z-index</span><span class="o">:</span><span class="m">3000</span> <span class="cp">!important</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<h3>Success Validation Message</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="nt">&lt;h:panelGroup</span> <span class="na">rendered=</span><span class="s">&quot;#{param[&#39;saveSuccess&#39;] ne null}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;edit-success&quot;</span> <span class="na">class=</span><span class="s">&quot;alert&quot;</span> <span class="na">style=</span><span class="s">&quot;display: block;&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;p&gt;</span>Success: Changes saved for #{personDetailsBean.person.name.fullName}.<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/h:panelGroup&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong></p>

<ul>
<li>The parameter to determine ability to render is just a param[].  It&#8217;s not bound to the bean, which means it disappears on subsequent requests, which is what we want.</li>
</ul>




<h2>Seam Navigation</h2>




<h3>pages.xml Entry for modal:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;page</span> <span class="na">view-id=</span><span class="s">&quot;/person-info-personal-edit.xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;begin-conversation</span> <span class="na">join=</span><span class="s">&quot;true&quot;</span> <span class="na">flush-mode=</span><span class="s">&quot;MANUAL&quot;</span><span class="nt">&gt;&lt;/begin-conversation&gt;</span>
</span><span class='line'>    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;personId&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.personId}&quot;</span><span class="nt">&gt;&lt;/param&gt;</span>
</span><span class='line'>    <span class="nt">&lt;action</span> <span class="na">execute=</span><span class="s">&quot;#{personDetailsBean.loadPerson}&quot;</span> <span class="na">if=</span><span class="s">&quot;#{personDetailsBean.person eq null}&quot;</span><span class="nt">&gt;&lt;/action&gt;</span>
</span><span class='line'>    <span class="nt">&lt;navigation&gt;</span>
</span><span class='line'>        <span class="nt">&lt;rule</span> <span class="na">if-outcome=</span><span class="s">&quot;saved-person-edit&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;redirect</span> <span class="na">view-id=</span><span class="s">&quot;/person-info-personal.xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;personId&quot;</span> <span class="na">value=</span><span class="s">&quot;#{param[&#39;personId&#39;] != null ? param[&#39;personId&#39;] : personId}&quot;</span><span class="nt">&gt;&lt;/param&gt;</span>
</span><span class='line'>                <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;saveSuccess&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;&lt;/param&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/redirect&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/rule&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/navigation&gt;</span>
</span><span class='line'><span class="nt">&lt;/page&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>pages.xml Entry for parent:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;page</span> <span class="na">view-id=</span><span class="s">&quot;/person-info-personal.xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;begin-conversation</span> <span class="na">join=</span><span class="s">&quot;true&quot;</span> <span class="na">flush-mode=</span><span class="s">&quot;MANUAL&quot;</span><span class="nt">&gt;&lt;/begin-conversation&gt;</span>
</span><span class='line'>  <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;personId&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.personId}&quot;</span><span class="nt">&gt;&lt;/param&gt;</span>
</span><span class='line'>  <span class="nt">&lt;action</span> <span class="na">execute=</span><span class="s">&quot;#{personDetailsBean.loadPerson}&quot;</span> <span class="na">if=</span><span class="s">&quot;#{personDetailsBean.person eq null}&quot;</span><span class="nt">&gt;&lt;/action&gt;</span>
</span><span class='line'>  <span class="c">&lt;!-- ... --&gt;</span>
</span><span class='line'><span class="nt">&lt;/page&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong></p>

<ul>
<li>The &#8220;saveSuccess&#8221; parameter is the key to showing the success message on the parent page.</li>
</ul>




<h2>The Modal Page (person-info-personal-edit.xhtml)</h2>




<h3>Modal Markup:</h3>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="nt">&lt;a4j:form</span> <span class="na">id=</span><span class="s">&quot;info-edit-form&quot;</span> <span class="na">ajaxSubmit=</span><span class="s">&quot;true&quot;</span> <span class="na">reRender=</span><span class="s">&quot;alerts&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;a4j:outputPanel</span> <span class="na">id=</span><span class="s">&quot;alerts&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;ldsp:alerts</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/a4j:outputPanel&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;target&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;h2&gt;</span>Edit Personal Information<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nt">&lt;p&gt;</span>Please make the necessary changes and press &quot;Save&quot; when finished.<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;notes&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;dl&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dt&gt;</span>Official Name<span class="nt">&lt;/dt&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>                    #{personDetailsBean.person.name.fullName}
</span><span class='line'>                <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/dl&gt;</span>
</span><span class='line'>            <span class="nt">&lt;dl</span> <span class="na">class=</span><span class="s">&quot;short-inputs&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dt&gt;</span>Preferred Name<span class="nt">&lt;/dt&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;h:inputText</span> <span class="na">styleClass=</span><span class="s">&quot;input-text pref-name-field&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.person.preferredFirstName}&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span> <span class="na">requiredMessage=</span><span class="s">&quot;Preferred first name required.&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;h:inputText</span> <span class="na">styleClass=</span><span class="s">&quot;input-text pref-name-field&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.person.preferredMiddleName}&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span> <span class="na">requiredMessage=</span><span class="s">&quot;Preferred first name required.&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;h:inputText</span> <span class="na">styleClass=</span><span class="s">&quot;input-text pref-name-field&quot;</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.person.preferredLastName}&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span> <span class="na">requiredMessage=</span><span class="s">&quot;Preferred first name required.&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/dl&gt;</span>
</span><span class='line'>            <span class="nt">&lt;dl&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dt&gt;</span>Blood Type<span class="nt">&lt;/dt&gt;</span>
</span><span class='line'>                <span class="nt">&lt;dd&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;h:selectOneMenu</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.person.bloodType}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;f:selectItem</span> <span class="na">value=</span><span class="s">&quot;#{null}&quot;</span> <span class="na">itemLabel=</span><span class="s">&quot;None given&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;f:selectItems</span> <span class="na">value=</span><span class="s">&quot;#{personDetailsBean.bloodTypesList}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;/h:selectOneMenu&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/dd&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/dl&gt;</span>
</span><span class='line'>
</span><span class='line'>            <span class="c">&lt;!--[if IE 6]&gt;</span>
</span><span class='line'><span class="c">            &lt;dl&gt;</span>
</span><span class='line'><span class="c">            &lt;dt&gt;&amp;nbsp;&lt;/dt&gt;</span>
</span><span class='line'><span class="c">            &lt;dd&gt;&amp;nbsp;&lt;/dd&gt;</span>
</span><span class='line'><span class="c">            &lt;/dl&gt;&lt;![endif]--&gt;</span>
</span><span class='line'>
</span><span class='line'>            <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;buttons&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;h:commandButton</span> <span class="na">action=</span><span class="s">&quot;#{personDetailsBean.savePerson}&quot;</span> <span class="na">value=</span><span class="s">&quot;Save&quot;</span> <span class="na">styleClass=</span><span class="s">&quot;button-default&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">class=</span><span class="s">&quot;button-nondefault jqmClose&quot;</span> <span class="na">value=</span><span class="s">&quot;Cancel&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/p&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/a4j:form&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Note:</strong></p>

<ul>
<li>&lt;ldsp:alerts /&gt; - custom component to display Alerts.</li>
<li>The ajaxSubmit attribute on the a4j:form must use a capital S for &#8216;Submit&#8217;.  (My code renderer on this page is lowercasing that for some reason.)  Same with the &#8216;r&#8217; on &#8216;reRender&#8217;.</li>

<h2>Server-side Logic</h2>

<h3>Java Model:</h3>
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="nd">@Entity</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
</span><span class='line'>    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PREF_FIRST&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">preferredFirstName</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PREF_MIDDLE&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">preferredMiddleName</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PREF_LAST&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">preferredLastName</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;BLOOD_TYPE&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">bloodType</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/** ... */</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

<h3>View Bean:</h3>
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="nd">@Controller</span>
</span><span class='line'><span class="nd">@Scope</span><span class="o">(</span><span class="s">&quot;conversation&quot;</span><span class="o">)</span>
</span><span class='line'><span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">&quot;serial&quot;</span><span class="o">)</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PersonDetailsBean</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
</span><span class='line'>   <span class="kd">public</span> <span class="n">String</span> <span class="nf">savePerson</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>       <span class="n">String</span> <span class="n">retval</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>       <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">personDetailsService</span><span class="o">.</span><span class="na">modifiyPerson</span><span class="o">(</span><span class="n">getPerson</span><span class="o">());</span> <span class="c1">// saves missionary</span>
</span><span class='line'>            <span class="n">retval</span> <span class="o">=</span> <span class="s">&quot;saved-person-edit&quot;</span><span class="o">;</span>
</span><span class='line'>       <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">OptimisticLockException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Alert</span><span class="o">.</span><span class="na">addErrorAlert</span><span class="o">(</span><span class="s">&quot;Optimistic Lock: The object was modified out from under you.&quot;</span><span class="o">);</span>
</span><span class='line'>       <span class="o">}</span>
</span><span class='line'>       <span class="k">return</span> <span class="n">retval</span><span class="o">;</span>
</span><span class='line'>   <span class="o">}</span>
</span><span class='line'>   <span class="c1">// Method to circumvent IE caching issue</span>
</span><span class='line'>   <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getCurrentMillis</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>       <span class="k">return</span> <span class="k">new</span> <span class="nf">Date</span><span class="o">().</span><span class="na">getTime</span><span class="o">();</span>
</span><span class='line'>   <span class="o">}</span>
</span><span class='line'>   <span class="cm">/* ... */</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


  

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jake Trent</span></span>

      








  


<time datetime="2008-11-30T14:12:00-07:00" pubdate data-updated="true">Nov 30<span>th</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/code/'>Code</a>, <a class='category' href='/blog/categories/hibernate/'>hibernate</a>, <a class='category' href='/blog/categories/jquery/'>jquery</a>, <a class='category' href='/blog/categories/jsf/'>jsf</a>, <a class='category' href='/blog/categories/seam/'>seam</a>, <a class='category' href='/blog/categories/spring/'>spring</a>
  
</span>


    </p>
    
      <div class="sharing">

  <ul class="rrssb-buttons">
    <li class="rrssb-twitter">
      <!-- Replace href with your Meta and URL information  -->
      <a href="http://twitter.com/home?status=JSF Modal Goodness%20by%20@jaketrent%20%20http://jaketrent.com/post/jsf-modal-goodness/" target="_blank">
        <span class="rrssb-icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                 width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
            <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
                c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
                C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
                C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
                c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
                C26.275,7.229,25.39,8.196,24.253,8.756z"/>
            </svg>
        </span>
      </a>
    </li>
    <li class="rrssb-linkedin">
      <!-- Replace href with your meta and URL information -->
      <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://jaketrent.com/post/jsf-modal-goodness/&amp;title=JSF Modal Goodness&amp;summary=from jaketrent.com" target="_blank">
        <span class="rrssb-icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803
                    c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048
                    h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501
                    c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546
                    C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"/>
            </svg>
        </span>
      </a>
    </li>
    <li class="rrssb-googleplus">
      <!-- Replace href with your meta and URL information.  -->
      <a href="https://plus.google.com/share?url=http://jaketrent.com/post/jsf-modal-goodness/" target="_blank">
        <span class="rrssb-icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                <g>
                    <g>
                        <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663
                            c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027
                            C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068
                            c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562
                            c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41
                            c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511
                            c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478
                            c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492
                            c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479
                            c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"/>
                        <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004
                            23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89      "/>
                    </g>
                </g>
            </svg>
        </span>
      </a>
    </li>
    <li class="rrssb-facebook">
      <!-- Replace with your URL. For best results, make sure you page has the proper FB Open Graph tags in header:
      https://developers.facebook.com/docs/opengraph/howtos/maximizing-distribution-media-content/ -->
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://jaketrent.com/post/jsf-modal-goodness/" target="_blank">
        <span class="rrssb-icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
                    c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
                    c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"/>
            </svg>
        </span>
      </a>
    </li>
  </ul>

</div>

    
    <p class="meta">
      
        <a class="prev-article-link" href="/post/update-alternatives/" title="Previous Post: Update Alternatives">&laquo; Update Alternatives</a>
      
      
        <a class="next-article-link" href="/post/jsf-wont-submit-null-uirepeat/" title="Next Post: JSF Won't Submit Null in ui:repeat">JSF Won't Submit Null in ui:repeat &raquo;</a>
      
    </p>
  </footer>
</article>

  <section class="comments">
    <h2 class="comments-title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

    </div>
  </div>
  <div class="footer-container">
    <footer class="main-footer" role="contentinfo"><div class="main-footer-logo"></div>
<ul class="main-footer-links-list">
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Content licensed</span> 2015 <a href="http://creativecommons.org/licenses/by/3.0/us/">CC 3.0 Attribution</a>
  </li>
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Authored by </span><a href="https://plus.google.com/115032056022257436849?rel=author">Jake Trent</a>
  </li>
  <li class="main-footer-links-item">
    <span class="main-footer-verbage">Subscribe to the </span><a href="/atom.xml">Feed</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <a href="/sitemap.xml">Sitemap</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <a href="https://github.com/jaketrent/jaketrent-blog/issues">Report a Bug</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <span class="main-footer-verbage">Chat on </span><a href="https://keybase.io/jaketrent">Keybase</a>
  </li>
  <li class="main-footer-links-item main-footer-links-item-extra">
    <span class="main-footer-verbage">Powered by </span><a href="http://octopress.org">Octopress</a>
  </li>
</ul>
</footer>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'jaketrent';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://jaketrent.com/post/jsf-modal-goodness/';
        var disqus_url = 'http://jaketrent.com/post/jsf-modal-goodness/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
